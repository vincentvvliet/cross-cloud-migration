CosmosDBCapabilities:

  consistency:
    type: "tunable"                 # user chooses from 5 levels
    tunable: true
    linearizableReads: true         # only in strong mode
    linearizableWrites: true        # strong mode
    readMyWrites: true              # guaranteed in session mode
    monotonicReads: true
    prefixReads: true               # consistent-prefix mode supported

  durability:
    persistence: "multi_region"
    replicationSync: "full_sync"    # for strong consistency regions
    writeAcknowledgement: "multi_region_commit"

  availability:
    model: "multi_master"
    tolerantToRegionFailure: true
    tolerantToNodeFailure: true

  conflictResolution:
    strategy: "custom_logic"        # can specify custom resolver
    deterministic: true
    clientProvidedVersion: true     # can supply version, stored procedures, etc.

  partitioning:
    model: "hashed"
    autoRebalancing: true
    maxPartitions: "unbounded"
    partitionKeyRequired: true

  transactions:
    supportsTransactions: true
    isolationLevel: "snapshot"
    crossPartitionTransactions: false    # limited to a single partition
    crossRegionTransactions: false
    conditionalWrites: true
    atomicBatch: true

  caching:
    readCache: true                 # integrated gateway cache
    writeBuffering: false
    cacheConsistency: "best_effort"

  performance:
    latencyTier: "low_latency"
    autoScaling: true

  dataModel:
    supportsTTL: true
    supportsAttributes: true
    maxItemSizeKB: 2000
    maxValueSizeKB: 2000
    schemaFlexibility: "kv_document"

  failures:
    crashLossPossible: false
    staleReadsPossible: true        # depending on consistency level
    lostUpdatePossible: true        # unless using strong + conditional writes
    splitBrainPossible: false
    reorderingPossible: true        # in eventual / bounded staleness
    inconsistencyWindow: "configurable"
